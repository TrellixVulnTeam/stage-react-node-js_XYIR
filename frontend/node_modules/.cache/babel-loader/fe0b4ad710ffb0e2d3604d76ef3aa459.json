{"ast":null,"code":"var _jsxFileName = \"/Users/yasmine/Desktop/stage/aidchannel-front/src/pages/webmaster/ListProjects.js\",\n    _s = $RefreshSig$();\n\nimport Flag from \"react-world-flags\";\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { useHistory, useParams, Link } from \"react-router-dom\";\nimport MTableProject from \"../../components/aidchannel/webmaster/MTableProject\";\nimport { getAllProjectsByCountry, deleteProject } from \"../../apis/projectApi\";\nimport TableProject from \"components/aidchannel/webmaster/TableProject\"; // import ValidationProjects from \"./validationProjects\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ListProjects = () => {\n  _s();\n\n  const {\n    codeCountry,\n    multimedia\n  } = useParams();\n  const history = useHistory();\n  const [projects, setprojects] = useState([]);\n  const getDataFromApi = useCallback(async () => {\n    const project = await getAllProjectsByCountry(codeCountry);\n    setprojects(project === null || project === void 0 ? void 0 : project.reverse());\n  }, [codeCountry]);\n  useEffect(() => {\n    getDataFromApi();\n  }, [getDataFromApi]);\n\n  const deletePjt = async project => {\n    if (window.confirm(`Are you sure you wish to delete ${project.name} ?`)) {\n      try {\n        await deleteProject(project._id);\n        const newProjectList = projects.filter(function (item) {\n          if (item[\"_id\"] === (project === null || project === void 0 ? void 0 : project._id)) return false;\n          return true;\n        });\n        setprojects(newProjectList);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [/*#__PURE__*/_jsxDEV(Flag, {\n          code: codeCountry,\n          height: \"70\",\n          width: \"70\",\n          style: {\n            marginRight: \"2px\"\n          },\n          className: \"flag\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this), \" \", \"Projects\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"nav nav-tabs\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"nav-item\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/web-master/projects/${codeCountry}`,\n            className: `nav-link ${multimedia === \"projects valides\" && \"active\"}`,\n            children: \"Projects Valides\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"nav-item\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/web-master/projects/${codeCountry}`,\n            className: `nav-link ${multimedia === \"projects non valides\" && \"active\"}`,\n            children: \"Projects non valides\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), multimedia === \"projects valides\" && /*#__PURE__*/_jsxDEV(TableProject, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 47\n      }, this), multimedia === \"projects non valides\" && /*#__PURE__*/_jsxDEV(TableProject, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 51\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => history.push(`/web-master/add-project/${codeCountry}`),\n        className: \"btn btn-primary ml-3 my-3 shadow-none border-none\",\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableProject, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ListProjects, \"FTI+LIzbd88EaahFTyARildAMbA=\", false, function () {\n  return [useParams, useHistory];\n});\n\n_c = ListProjects;\nexport default ListProjects;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListProjects\");","map":{"version":3,"sources":["/Users/yasmine/Desktop/stage/aidchannel-front/src/pages/webmaster/ListProjects.js"],"names":["Flag","React","useState","useEffect","useCallback","useHistory","useParams","Link","MTableProject","getAllProjectsByCountry","deleteProject","TableProject","ListProjects","codeCountry","multimedia","history","projects","setprojects","getDataFromApi","project","reverse","deletePjt","window","confirm","name","_id","newProjectList","filter","item","error","console","log","marginRight","push"],"mappings":"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","sourcesContent":["import Flag from \"react-world-flags\";\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { useHistory, useParams, Link } from \"react-router-dom\";\nimport MTableProject from \"../../components/aidchannel/webmaster/MTableProject\";\nimport { getAllProjectsByCountry, deleteProject } from \"../../apis/projectApi\";\nimport TableProject from \"components/aidchannel/webmaster/TableProject\";\n// import ValidationProjects from \"./validationProjects\";\n\nconst ListProjects = () => {\n  const { codeCountry, multimedia } = useParams();\n  const history = useHistory();\n  const [projects, setprojects] = useState([]);\n  const getDataFromApi = useCallback(async () => {\n    const project = await getAllProjectsByCountry(codeCountry);\n    setprojects(project?.reverse());\n  }, [codeCountry]);\n  useEffect(() => {\n    getDataFromApi();\n  }, [getDataFromApi]);\n  const deletePjt = async (project) => {\n    if (window.confirm(`Are you sure you wish to delete ${project.name} ?`)) {\n      try {\n        await deleteProject(project._id);\n        const newProjectList = projects.filter(function(item) {\n          if (item[\"_id\"] === project?._id) return false;\n          return true;\n        });\n        setprojects(newProjectList);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <>\n        <h1>\n          <Flag\n            code={codeCountry}\n            height=\"70\"\n            width=\"70\"\n            style={{ marginRight: \"2px\" }}\n            className=\"flag\"\n          />{\" \"}\n          Projects\n        </h1>\n        {/* <ValidationProjects /> */}\n        <hr />\n        <ul className=\"nav nav-tabs\">\n          <li className=\"nav-item\">\n            <Link\n              to={`/web-master/projects/${codeCountry}`}\n              className={`nav-link ${multimedia === \"projects valides\" &&\n                \"active\"}`}\n            >\n              Projects Valides\n            </Link>\n          </li>\n          <li className=\"nav-item\">\n            <Link\n              to={`/web-master/projects/${codeCountry}`}\n              className={`nav-link ${multimedia === \"projects non valides\" &&\n                \"active\"}`}\n            >\n              Projects non valides\n            </Link>\n          </li>\n        </ul>\n        {/* </> */}\n        {multimedia === \"projects valides\" && <TableProject />}\n        {multimedia === \"projects non valides\" && <TableProject />}\n        {/* </div> */}\n        <button\n          onClick={() => history.push(`/web-master/add-project/${codeCountry}`)}\n          className=\"btn btn-primary ml-3 my-3 shadow-none border-none\"\n        >\n          Add\n        </button>\n        <TableProject />\n      </>\n    </div>\n  );\n};\n\nexport default ListProjects;\n"]},"metadata":{},"sourceType":"module"}