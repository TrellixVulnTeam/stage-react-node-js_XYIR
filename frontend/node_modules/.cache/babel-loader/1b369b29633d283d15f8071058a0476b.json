{"ast":null,"code":"var _jsxFileName = \"/Users/yasmine/Desktop/stage/aidchannel-front/src/components/linkedin/invitations/Invitations.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { acceptInvitationApi, getInvitationsApi, ignoreInvitationsApi } from \"apis/invitationApi\";\nimport urlImageAdapter from \"helpers/urlImageAdapter\";\nimport \"./Invitations.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Invitations = () => {\n  _s();\n\n  const [invitations, setInvitations] = useState();\n  const userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\n  const history = useHistory();\n  const getDataFromApi = useCallback(async () => {\n    var _userInfo$user;\n\n    const myInvitations = await getInvitationsApi(userInfo === null || userInfo === void 0 ? void 0 : (_userInfo$user = userInfo.user) === null || _userInfo$user === void 0 ? void 0 : _userInfo$user._id);\n    setInvitations(myInvitations);\n  }, []);\n  useEffect(() => {\n    getDataFromApi();\n  }, [getDataFromApi]);\n\n  const ignoreInvitation = async idInvitation => {\n    await ignoreInvitationsApi(idInvitation);\n    const newInvitations = invitations.filter(invitation => {\n      if ((invitation === null || invitation === void 0 ? void 0 : invitation._id) == idInvitation) return false;\n      return true;\n    });\n    setInvitations(newInvitations);\n  };\n\n  const acceptInvitation = async idInvitation => {\n    await acceptInvitationApi(idInvitation);\n    const newInvitations = invitations.filter(invitation => {\n      if ((invitation === null || invitation === void 0 ? void 0 : invitation._id) == idInvitation) return false;\n      return true;\n    });\n    setInvitations(newInvitations);\n  };\n\n  const listInvitations = invitations === null || invitations === void 0 ? void 0 : invitations.map(invitation => {\n    var _invitation$sender, _invitation$sender3, _invitation$sender4, _invitation$sender5;\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-2 col-md-1 my-3 \",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"profil__invitation\",\n          src: urlImageAdapter(invitation === null || invitation === void 0 ? void 0 : (_invitation$sender = invitation.sender) === null || _invitation$sender === void 0 ? void 0 : _invitation$sender.image_url)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-5 col-md-6 my-3 ml-4 \",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: () => {\n            var _invitation$sender2;\n\n            return history.push(`/linkedin/profil/${invitation === null || invitation === void 0 ? void 0 : (_invitation$sender2 = invitation.sender) === null || _invitation$sender2 === void 0 ? void 0 : _invitation$sender2._id}`);\n          },\n          className: \"fullname__invitation\",\n          children: invitation === null || invitation === void 0 ? void 0 : (_invitation$sender3 = invitation.sender) === null || _invitation$sender3 === void 0 ? void 0 : _invitation$sender3.fullname\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"job__title__invitation\",\n          children: invitation === null || invitation === void 0 ? void 0 : (_invitation$sender4 = invitation.sender) === null || _invitation$sender4 === void 0 ? void 0 : _invitation$sender4.job_title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"adresse__profile__invitation\",\n          children: invitation === null || invitation === void 0 ? void 0 : (_invitation$sender5 = invitation.sender) === null || _invitation$sender5 === void 0 ? void 0 : _invitation$sender5.adress\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-3 col-md-4 my-3 my-sm-3  my-lg-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => ignoreInvitation(invitation === null || invitation === void 0 ? void 0 : invitation._id),\n          className: \"ignore__invitation my-1 my-lg-0 mr-2\",\n          children: \"Ignore\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => acceptInvitation(invitation === null || invitation === void 0 ? void 0 : invitation._id),\n          className: \"accept__invitation\",\n          children: \"Accept\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row  mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-12\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row border\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-8 col-md-10 my-3 invitation__invitation\",\n          children: \"Invitations\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-4 col-md-2 my-3 seeall__invitation\",\n          children: \"See all\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row border-bottom border-right border-left\",\n        children: listInvitations\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Invitations, \"YPgcCCTPqsBQepBWqL2lULqXayc=\", false, function () {\n  return [useHistory];\n});\n\n_c = Invitations;\nexport default Invitations;\n\nvar _c;\n\n$RefreshReg$(_c, \"Invitations\");","map":{"version":3,"sources":["/Users/yasmine/Desktop/stage/aidchannel-front/src/components/linkedin/invitations/Invitations.js"],"names":["React","useState","useEffect","useCallback","useHistory","acceptInvitationApi","getInvitationsApi","ignoreInvitationsApi","urlImageAdapter","Invitations","invitations","setInvitations","userInfo","JSON","parse","localStorage","getItem","history","getDataFromApi","myInvitations","user","_id","ignoreInvitation","idInvitation","newInvitations","filter","invitation","acceptInvitation","listInvitations","map","sender","image_url","push","fullname","job_title","adress"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport {\n  acceptInvitationApi,\n  getInvitationsApi,\n  ignoreInvitationsApi,\n} from \"apis/invitationApi\";\nimport urlImageAdapter from \"helpers/urlImageAdapter\";\nimport \"./Invitations.css\";\n\nconst Invitations = () => {\n  const [invitations, setInvitations] = useState();\n  const userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\n\n  const history = useHistory();\n\n  const getDataFromApi = useCallback(async () => {\n    const myInvitations = await getInvitationsApi(userInfo?.user?._id);\n    setInvitations(myInvitations);\n  }, []);\n\n  useEffect(() => {\n    getDataFromApi();\n  }, [getDataFromApi]);\n\n  const ignoreInvitation = async (idInvitation) => {\n    await ignoreInvitationsApi(idInvitation);\n    const newInvitations = invitations.filter((invitation) => {\n      if (invitation?._id == idInvitation) return false;\n      return true;\n    });\n    setInvitations(newInvitations);\n  };\n\n  const acceptInvitation = async (idInvitation) => {\n    await acceptInvitationApi(idInvitation);\n    const newInvitations = invitations.filter((invitation) => {\n      if (invitation?._id == idInvitation) return false;\n      return true;\n    });\n    setInvitations(newInvitations);\n  };\n\n  const listInvitations = invitations?.map((invitation) => (\n    <>\n      <div className=\"col-2 col-md-1 my-3 \">\n        <img\n          className=\"profil__invitation\"\n          src={urlImageAdapter(invitation?.sender?.image_url)}\n        />\n      </div>\n      <div className=\"col-5 col-md-6 my-3 ml-4 \">\n        <span\n          onClick={() =>\n            history.push(`/linkedin/profil/${invitation?.sender?._id}`)\n          }\n          className=\"fullname__invitation\"\n        >\n          {invitation?.sender?.fullname}\n        </span>\n        <span className=\"job__title__invitation\">\n          {invitation?.sender?.job_title}\n        </span>\n        <span className=\"adresse__profile__invitation\">\n          {invitation?.sender?.adress}\n        </span>\n      </div>\n      <div className=\"col-3 col-md-4 my-3 my-sm-3  my-lg-5\">\n        <button\n          onClick={() => ignoreInvitation(invitation?._id)}\n          className=\"ignore__invitation my-1 my-lg-0 mr-2\"\n        >\n          Ignore\n        </button>\n        <button\n          onClick={() => acceptInvitation(invitation?._id)}\n          className=\"accept__invitation\"\n        >\n          Accept\n        </button>\n      </div>\n    </>\n  ));\n\n  return (\n    <div className=\"row  mt-5\">\n      <div className=\"col-12\">\n        <div className=\"row border\">\n          <div className=\"col-8 col-md-10 my-3 invitation__invitation\">\n            Invitations\n          </div>\n          <div className=\"col-4 col-md-2 my-3 seeall__invitation\">See all</div>\n        </div>\n        <div className=\"row border-bottom border-right border-left\">\n          {listInvitations}\n        </div>\n      </div>\n      <hr />\n    </div>\n  );\n};\n\nexport default Invitations;\n"]},"metadata":{},"sourceType":"module"}