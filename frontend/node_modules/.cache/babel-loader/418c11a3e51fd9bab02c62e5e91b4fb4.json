{"ast":null,"code":"var _jsxFileName = \"/Users/yasmine/Desktop/stage/aidchannel-front/src/components/linkedin/profilHeader/ProfilHeader.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { getOneUser } from \"apis/userApi\";\nimport urlImageAdapter from \"helpers/urlImageAdapter\";\nimport \"./ProfilHeader.css\";\nimport { acceptInvitationApi, getOneInvitationApi, ignoreInvitationsApi, sendInvitationApi } from \"apis/invitationApi\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ProfilHeader = () => {\n  _s();\n\n  var _userInfo$user5, _userInfo$user6;\n\n  const {\n    idUser\n  } = useParams();\n  const [user, setUser] = useState();\n  const [invitation, setInvitation] = useState();\n  const [Isfriend, setIsFriend] = useState(false);\n  const [myAccount, setMyAccount] = useState();\n  const userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\n  const getDataFromApi = useCallback(async () => {\n    var _userInfo$user, _userInfo$user3, _me$connections;\n\n    const user = await getOneUser(idUser);\n    setUser(user);\n\n    if ((userInfo === null || userInfo === void 0 ? void 0 : (_userInfo$user = userInfo.user) === null || _userInfo$user === void 0 ? void 0 : _userInfo$user._id) != (user === null || user === void 0 ? void 0 : user._id)) {\n      var _userInfo$user2;\n\n      const invi = await getOneInvitationApi(userInfo === null || userInfo === void 0 ? void 0 : (_userInfo$user2 = userInfo.user) === null || _userInfo$user2 === void 0 ? void 0 : _userInfo$user2._id, user === null || user === void 0 ? void 0 : user._id);\n      setInvitation(invi);\n    }\n\n    const me = await getOneUser(userInfo === null || userInfo === void 0 ? void 0 : (_userInfo$user3 = userInfo.user) === null || _userInfo$user3 === void 0 ? void 0 : _userInfo$user3._id);\n    setMyAccount(me);\n    const friend = me === null || me === void 0 ? void 0 : (_me$connections = me.connections) === null || _me$connections === void 0 ? void 0 : _me$connections.filter(connection => (connection === null || connection === void 0 ? void 0 : connection._id) === idUser);\n    console.log(friend, \"friend\");\n    if ((friend === null || friend === void 0 ? void 0 : friend.length) > 0) setIsFriend(true);\n  }, []);\n  useEffect(() => {\n    getDataFromApi();\n  }, [getDataFromApi]);\n\n  const sendInvitation = async idRecever => {\n    var _userInfo$user4;\n\n    const invitation = {\n      sender: userInfo === null || userInfo === void 0 ? void 0 : (_userInfo$user4 = userInfo.user) === null || _userInfo$user4 === void 0 ? void 0 : _userInfo$user4._id,\n      recever: idRecever\n    };\n    await sendInvitationApi(invitation);\n    setInvitation(invitation);\n  };\n\n  const ignoreInvitation = async idInvitation => {\n    await ignoreInvitationsApi(idInvitation);\n    setInvitation(undefined);\n  };\n\n  const acceptInvitation = async idInvitation => {\n    await acceptInvitationApi(idInvitation);\n    setInvitation(undefined);\n    setIsFriend(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row mt-4\",\n    children: user && myAccount && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 col-md-7  profile-background-image\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n          src: urlImageAdapter(user === null || user === void 0 ? void 0 : user.image_url),\n          className: \"picture__image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 col-md-8 mt-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"fullname__profil\",\n          children: user === null || user === void 0 ? void 0 : user.fullname\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"job__title\",\n          children: user === null || user === void 0 ? void 0 : user.job_title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"adresse__profile\",\n          children: user === null || user === void 0 ? void 0 : user.adress\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relations__profile mt-2\",\n          children: \"10 connections\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 col-md-8 mt-2\",\n        children: [!invitation && Isfriend === false && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => sendInvitation(user === null || user === void 0 ? void 0 : user._id),\n          className: \"connect__profil\",\n          children: \"Connect\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 15\n        }, this), invitation && (invitation === null || invitation === void 0 ? void 0 : invitation.recever) == (userInfo === null || userInfo === void 0 ? void 0 : (_userInfo$user5 = userInfo.user) === null || _userInfo$user5 === void 0 ? void 0 : _userInfo$user5._id) && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => ignoreInvitation(invitation === null || invitation === void 0 ? void 0 : invitation._id),\n            className: \"ignore__profil\",\n            children: \"Ignore\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => acceptInvitation(invitation === null || invitation === void 0 ? void 0 : invitation._id),\n            className: \"connect__profil ml-3\",\n            children: \"Accept\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true), invitation && (invitation === null || invitation === void 0 ? void 0 : invitation.sender) == (userInfo === null || userInfo === void 0 ? void 0 : (_userInfo$user6 = userInfo.user) === null || _userInfo$user6 === void 0 ? void 0 : _userInfo$user6._id) && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => ignoreInvitation(invitation === null || invitation === void 0 ? void 0 : invitation._id),\n          className: \"ignore__profil\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"message__profil ml-4 \",\n          children: \"Message\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProfilHeader, \"rZ5mIIkdMTUCpK4+582nfnr4xT0=\", false, function () {\n  return [useParams];\n});\n\n_c = ProfilHeader;\nexport default ProfilHeader;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfilHeader\");","map":{"version":3,"sources":["/Users/yasmine/Desktop/stage/aidchannel-front/src/components/linkedin/profilHeader/ProfilHeader.js"],"names":["React","useState","useEffect","useCallback","useParams","getOneUser","urlImageAdapter","acceptInvitationApi","getOneInvitationApi","ignoreInvitationsApi","sendInvitationApi","ProfilHeader","idUser","user","setUser","invitation","setInvitation","Isfriend","setIsFriend","myAccount","setMyAccount","userInfo","JSON","parse","localStorage","getItem","getDataFromApi","_id","invi","me","friend","connections","filter","connection","console","log","length","sendInvitation","idRecever","sender","recever","ignoreInvitation","idInvitation","undefined","acceptInvitation","image_url","fullname","job_title","adress"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { getOneUser } from \"apis/userApi\";\nimport urlImageAdapter from \"helpers/urlImageAdapter\";\nimport \"./ProfilHeader.css\";\nimport {\n  acceptInvitationApi,\n  getOneInvitationApi,\n  ignoreInvitationsApi,\n  sendInvitationApi,\n} from \"apis/invitationApi\";\n\nconst ProfilHeader = () => {\n  const { idUser } = useParams();\n  const [user, setUser] = useState();\n  const [invitation, setInvitation] = useState();\n  const [Isfriend, setIsFriend] = useState(false);\n  const [myAccount, setMyAccount] = useState();\n\n  const userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\n\n  const getDataFromApi = useCallback(async () => {\n    const user = await getOneUser(idUser);\n    setUser(user);\n    if (userInfo?.user?._id != user?._id) {\n      const invi = await getOneInvitationApi(userInfo?.user?._id, user?._id);\n      setInvitation(invi);\n    }\n    const me = await getOneUser(userInfo?.user?._id);\n    setMyAccount(me);\n\n    const friend = me?.connections?.filter(\n      (connection) => connection?._id === idUser\n    );\n    console.log(friend, \"friend\");\n    if (friend?.length > 0) setIsFriend(true);\n  }, []);\n\n  useEffect(() => {\n    getDataFromApi();\n  }, [getDataFromApi]);\n\n  const sendInvitation = async (idRecever) => {\n    const invitation = { sender: userInfo?.user?._id, recever: idRecever };\n    await sendInvitationApi(invitation);\n    setInvitation(invitation);\n  };\n\n  const ignoreInvitation = async (idInvitation) => {\n    await ignoreInvitationsApi(idInvitation);\n    setInvitation(undefined);\n  };\n\n  const acceptInvitation = async (idInvitation) => {\n    await acceptInvitationApi(idInvitation);\n    setInvitation(undefined);\n    setIsFriend(true);\n  };\n\n  return (\n    <div className=\"row mt-4\">\n      {user && myAccount && (\n        <>\n          <div className=\"col-12 col-md-7  profile-background-image\">\n            {\" \"}\n            <img\n              src={urlImageAdapter(user?.image_url)}\n              className=\"picture__image\"\n            />\n          </div>\n          <div className=\"col-12 col-md-8 mt-5\">\n            <h1 className=\"fullname__profil\">{user?.fullname}</h1>\n            <div className=\"job__title\">{user?.job_title}</div>\n            <div className=\"adresse__profile\">{user?.adress}</div>\n            <div className=\"relations__profile mt-2\">10 connections</div>\n          </div>\n          <div className=\"col-12 col-md-8 mt-2\">\n            {!invitation && Isfriend === false && (\n              <button\n                onClick={() => sendInvitation(user?._id)}\n                className=\"connect__profil\"\n              >\n                Connect\n              </button>\n            )}\n            {invitation && invitation?.recever == userInfo?.user?._id && (\n              <>\n                <button\n                  onClick={() => ignoreInvitation(invitation?._id)}\n                  className=\"ignore__profil\"\n                >\n                  Ignore\n                </button>\n                <button\n                  onClick={() => acceptInvitation(invitation?._id)}\n                  className=\"connect__profil ml-3\"\n                >\n                  Accept\n                </button>\n              </>\n            )}\n            {invitation && invitation?.sender == userInfo?.user?._id && (\n              <button\n                onClick={() => ignoreInvitation(invitation?._id)}\n                className=\"ignore__profil\"\n              >\n                Cancel\n              </button>\n            )}\n\n            <button className=\"message__profil ml-4 \">Message</button>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default ProfilHeader;\n"]},"metadata":{},"sourceType":"module"}