{"ast":null,"code":"var _jsxFileName = \"/Users/yasmine/Desktop/stage/aidchannel-front/src/components/linkedin/postModal/PostModal.js\",\n    _s = $RefreshSig$();\n\nimport { addPostApi } from \"apis/postApi\";\nimport urlImageAdapter from \"helpers/urlImageAdapter\";\nimport React, { useState } from \"react\";\nimport Modal from \"react-modal\";\nimport ImageIcon from \"@material-ui/icons/Image\";\nimport \"./reactModal.css\";\nimport formDataHelper from \"helpers/FormDataHelper\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst customStyles = {\n  content: {\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\"\n  }\n};\nModal.setAppElement(\"#root\");\n\nconst PostModal = ({\n  modalIsOpen,\n  setIsModalOpen,\n  posts,\n  setPosts\n}) => {\n  _s();\n\n  var _userInfo$user2, _userInfo$user3;\n\n  const [post, setPost] = useState(\"\");\n  const [postImagePreview, setPostImagePreview] = useState(null);\n  const [postImage, setPostImage] = useState();\n  const userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\n\n  function closeModal() {\n    setIsModalOpen(false);\n  }\n\n  const sendPost = async () => {\n    var _userInfo$user;\n\n    const formData = formDataHelper(postImage, \"postImage\", {\n      content: post,\n      user: userInfo === null || userInfo === void 0 ? void 0 : (_userInfo$user = userInfo.user) === null || _userInfo$user === void 0 ? void 0 : _userInfo$user._id\n    });\n    const newPost = await addPostApi(formData);\n    setPosts([newPost, ...posts]);\n    setPost(\"\");\n    setPostImage(undefined);\n    setPostImagePreview(null);\n    setIsModalOpen(false);\n  };\n\n  const imagePreview = e => {\n    setPostImagePreview(URL.createObjectURL(e.target.files[0]));\n    setPostImage(e.target.files[0]);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: modalIsOpen,\n    onRequestClose: closeModal,\n    style: customStyles,\n    contentLabel: \"Example Modal\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Create a post\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-5 mx-2 d-flex my-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"img__profil_post\",\n          src: urlImageAdapter(userInfo === null || userInfo === void 0 ? void 0 : (_userInfo$user2 = userInfo.user) === null || _userInfo$user2 === void 0 ? void 0 : _userInfo$user2.image_url)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"ml-2 font-weight-bold\",\n          children: userInfo === null || userInfo === void 0 ? void 0 : (_userInfo$user3 = userInfo.user) === null || _userInfo$user3 === void 0 ? void 0 : _userInfo$user3.fullname\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 my-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fram\",\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            style: {\n              width: \"100%\",\n              border: \"none\",\n              outline: \"none\",\n              padding: \"20px\",\n              overflow: \"hidden\"\n            },\n            rows: 5,\n            value: post,\n            onChange: e => setPost(e.target.value),\n            className: \"shadow-none border-none outline-none\",\n            placeholder: \"What do you want to talk about ?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: postImagePreview,\n            style: {\n              maxWidth: \"200px\"\n            },\n            className: \"mt-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-8 my-3 ml-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"ml-4  d-inline\",\n          htmlFor: \"postImage\",\n          children: /*#__PURE__*/_jsxDEV(ImageIcon, {\n            className: \"mt-1\",\n            style: {\n              transform: \"scale(1.5)\",\n              color: \"#0072b1\",\n              cursor: \"pointer\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          className: \"d-none\",\n          id: \"postImage\",\n          name: \"postImage\",\n          onChange: imagePreview,\n          multiple: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-2 my-3\",\n        children: post === \"\" ? /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: true,\n          onClick: sendPost,\n          className: \"btn btn-primary\",\n          children: \"Publish\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: sendPost,\n          className: \"btn btn-primary\",\n          children: \"Publish\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n\n_s(PostModal, \"sWeENRJaBFUjHPypCsdCNjXQtV0=\");\n\n_c = PostModal;\nexport default PostModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostModal\");","map":{"version":3,"sources":["/Users/yasmine/Desktop/stage/aidchannel-front/src/components/linkedin/postModal/PostModal.js"],"names":["addPostApi","urlImageAdapter","React","useState","Modal","ImageIcon","formDataHelper","customStyles","content","top","left","right","bottom","marginRight","transform","setAppElement","PostModal","modalIsOpen","setIsModalOpen","posts","setPosts","post","setPost","postImagePreview","setPostImagePreview","postImage","setPostImage","userInfo","JSON","parse","localStorage","getItem","closeModal","sendPost","formData","user","_id","newPost","undefined","imagePreview","e","URL","createObjectURL","target","files","image_url","fullname","width","border","outline","padding","overflow","value","maxWidth","color","cursor"],"mappings":"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","sourcesContent":["import { addPostApi } from \"apis/postApi\";\nimport urlImageAdapter from \"helpers/urlImageAdapter\";\nimport React, { useState } from \"react\";\nimport Modal from \"react-modal\";\nimport ImageIcon from \"@material-ui/icons/Image\";\nimport \"./reactModal.css\";\nimport formDataHelper from \"helpers/FormDataHelper\";\n\nconst customStyles = {\n  content: {\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\",\n  },\n};\n\nModal.setAppElement(\"#root\");\n\nconst PostModal = ({ modalIsOpen, setIsModalOpen, posts, setPosts }) => {\n  const [post, setPost] = useState(\"\");\n  const [postImagePreview, setPostImagePreview] = useState(null);\n  const [postImage, setPostImage] = useState();\n\n  const userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\n\n  function closeModal() {\n    setIsModalOpen(false);\n  }\n  const sendPost = async () => {\n    const formData = formDataHelper(postImage, \"postImage\", {\n      content: post,\n      user: userInfo?.user?._id,\n    });\n    const newPost = await addPostApi(formData);\n    setPosts([newPost, ...posts]);\n    setPost(\"\");\n    setPostImage(undefined);\n    setPostImagePreview(null);\n    setIsModalOpen(false);\n  };\n  const imagePreview = (e) => {\n    setPostImagePreview(URL.createObjectURL(e.target.files[0]));\n    setPostImage(e.target.files[0]);\n  };\n  return (\n    <Modal\n      isOpen={modalIsOpen}\n      onRequestClose={closeModal}\n      style={customStyles}\n      contentLabel=\"Example Modal\"\n    >\n      <h2>Create a post</h2>\n      <hr />\n      <div className=\"row\">\n        <div className=\"col-5 mx-2 d-flex my-2\">\n          <img\n            className=\"img__profil_post\"\n            src={urlImageAdapter(userInfo?.user?.image_url)}\n          />\n          <p className=\"ml-2 font-weight-bold\">{userInfo?.user?.fullname}</p>\n        </div>\n\n        <div className=\"col-12 my-3\">\n          <div className=\"fram\">\n            <textarea\n              style={{\n                width: \"100%\",\n                border: \"none\",\n                outline: \"none\",\n                padding: \"20px\",\n                overflow: \"hidden\",\n              }}\n              rows={5}\n              value={post}\n              onChange={(e) => setPost(e.target.value)}\n              className=\"shadow-none border-none outline-none\"\n              placeholder=\"What do you want to talk about ?\"\n            ></textarea>\n            <img\n              src={postImagePreview}\n              style={{ maxWidth: \"200px\" }}\n              className=\"mt-3\"\n            />\n          </div>\n        </div>\n        <div className=\"col-8 my-3 ml-2\">\n          <label className=\"ml-4  d-inline\" htmlFor=\"postImage\">\n            <ImageIcon\n              className=\"mt-1\"\n              style={{\n                transform: \"scale(1.5)\",\n                color: \"#0072b1\",\n                cursor: \"pointer\",\n              }}\n            />\n          </label>\n          <input\n            type=\"file\"\n            className=\"d-none\"\n            id=\"postImage\"\n            name=\"postImage\"\n            onChange={imagePreview}\n            multiple={false}\n          />\n        </div>\n        <div className=\"col-2 my-3\">\n          {post === \"\" ? (\n            <button disabled onClick={sendPost} className=\"btn btn-primary\">\n              Publish\n            </button>\n          ) : (\n            <button onClick={sendPost} className=\"btn btn-primary\">\n              Publish\n            </button>\n          )}\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default PostModal;\n"]},"metadata":{},"sourceType":"module"}