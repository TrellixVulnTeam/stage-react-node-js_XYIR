{"ast":null,"code":"var _jsxFileName = \"/Users/yasmine/Desktop/stage/aidchannel-front/src/pages/webmaster/ListAddedUsers.js\",\n    _s = $RefreshSig$();\n\nimport { enableExpertOfMonth, disabledExpertOfMonth, getExpert, deleteUser } from \"apis/userApi\";\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { getCountryByCode } from \"../../apis/countryApi\";\nimport { getAddedUsersByWebmaster } from \"apis/userApi\";\nimport TableUser from \"components/aidchannel/webmaster/TableUser\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ListAddedUsers = () => {\n  _s();\n\n  const history = useHistory();\n  const {\n    codeCountry,\n    idUser\n  } = useParams();\n  const [country, setCountry] = useState();\n  const [users, setUsers] = useState([]);\n  const getDataFromApi = useCallback(async () => {\n    const country = await getCountryByCode(codeCountry);\n    setCountry(country);\n    const user = await getAddedUsersByWebmaster();\n    setUsers(user === null || user === void 0 ? void 0 : user.reverse());\n  }, []);\n  useEffect(() => {\n    getDataFromApi();\n  }, [getDataFromApi]);\n\n  const deleteUserr = async user => {\n    if (window.confirm(`Are you sure you wish to delete ${user.name} ?`)) {\n      try {\n        await deleteUser(user._id);\n        const newUsersList = users.filter(function (item) {\n          if (item[\"_id\"] === (user === null || user === void 0 ? void 0 : user._id)) return false;\n          return true;\n        });\n        setUsers(newUsersList);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableUser, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ListAddedUsers, \"qD59PF0pJq/IEnz+M4u1CYggBs4=\", false, function () {\n  return [useHistory, useParams];\n});\n\n_c = ListAddedUsers;\nexport default ListAddedUsers;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListAddedUsers\");","map":{"version":3,"sources":["/Users/yasmine/Desktop/stage/aidchannel-front/src/pages/webmaster/ListAddedUsers.js"],"names":["enableExpertOfMonth","disabledExpertOfMonth","getExpert","deleteUser","React","useState","useEffect","useCallback","useHistory","useParams","getCountryByCode","getAddedUsersByWebmaster","TableUser","ListAddedUsers","history","codeCountry","idUser","country","setCountry","users","setUsers","getDataFromApi","user","reverse","deleteUserr","window","confirm","name","_id","newUsersList","filter","item","error","console","log"],"mappings":";;;AAAA,SACEA,mBADF,EAEEC,qBAFF,EAGEC,SAHF,EAIEC,UAJF,QAKO,cALP;AAMA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,WAArC,QAAwD,OAAxD;AACA,SAASC,UAAT,EAAqBC,SAArB,QAAsC,kBAAtC;AAEA,SAASC,gBAAT,QAAiC,uBAAjC;AACA,SAAUC,wBAAV,QAA0C,cAA1C;AAEA,OAAOC,SAAP,MAAsB,2CAAtB;;;;AAEA,MAAMC,cAAc,GAAG,MAAM;AAAA;;AAC3B,QAAMC,OAAO,GAAGN,UAAU,EAA1B;AACA,QAAM;AAAEO,IAAAA,WAAF;AAAeC,IAAAA;AAAf,MAA0BP,SAAS,EAAzC;AACA,QAAM,CAACQ,OAAD,EAAUC,UAAV,IAAwBb,QAAQ,EAAtC;AACA,QAAM,CAACc,KAAD,EAAQC,QAAR,IAAoBf,QAAQ,CAAC,EAAD,CAAlC;AAEA,QAAMgB,cAAc,GAAGd,WAAW,CAAC,YAAY;AAC7C,UAAMU,OAAO,GAAG,MAAMP,gBAAgB,CAACK,WAAD,CAAtC;AACAG,IAAAA,UAAU,CAACD,OAAD,CAAV;AACA,UAAMK,IAAI,GAAG,MAAMX,wBAAwB,EAA3C;AACAS,IAAAA,QAAQ,CAACE,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAEC,OAAN,EAAD,CAAR;AACD,GALiC,EAK/B,EAL+B,CAAlC;AAOAjB,EAAAA,SAAS,CAAC,MAAM;AACde,IAAAA,cAAc;AACf,GAFQ,EAEN,CAACA,cAAD,CAFM,CAAT;;AAIA,QAAMG,WAAW,GAAG,MAAOF,IAAP,IAAgB;AAClC,QAAIG,MAAM,CAACC,OAAP,CAAgB,mCAAkCJ,IAAI,CAACK,IAAK,IAA5D,CAAJ,EAAsE;AACpE,UAAI;AACF,cAAMxB,UAAU,CAACmB,IAAI,CAACM,GAAN,CAAhB;AACA,cAAMC,YAAY,GAAGV,KAAK,CAACW,MAAN,CAAa,UAASC,IAAT,EAAe;AAC/C,cAAIA,IAAI,CAAC,KAAD,CAAJ,MAAgBT,IAAhB,aAAgBA,IAAhB,uBAAgBA,IAAI,CAAEM,GAAtB,CAAJ,EAA+B,OAAO,KAAP;AAC/B,iBAAO,IAAP;AACD,SAHoB,CAArB;AAIAR,QAAAA,QAAQ,CAACS,YAAD,CAAR;AACD,OAPD,CAOE,OAAOG,KAAP,EAAc;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACF;AACF,GAbD;;AAeA,sBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA,2BACE;AAAA,8BACE;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAQD,CAxCD;;GAAMnB,c;UACYL,U,EACgBC,S;;;KAF5BI,c;AA0CN,eAAeA,cAAf","sourcesContent":["import {\n  enableExpertOfMonth,\n  disabledExpertOfMonth,\n  getExpert,\n  deleteUser,\n} from \"apis/userApi\";\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\n\nimport { getCountryByCode } from \"../../apis/countryApi\";\nimport {  getAddedUsersByWebmaster } from \"apis/userApi\";\n\nimport TableUser from \"components/aidchannel/webmaster/TableUser\";\n\nconst ListAddedUsers = () => {\n  const history = useHistory();\n  const { codeCountry, idUser } = useParams();\n  const [country, setCountry] = useState();\n  const [users, setUsers] = useState([]);\n\n  const getDataFromApi = useCallback(async () => {\n    const country = await getCountryByCode(codeCountry);\n    setCountry(country);\n    const user = await getAddedUsersByWebmaster();\n    setUsers(user?.reverse());\n  }, []);\n\n  useEffect(() => {\n    getDataFromApi();\n  }, [getDataFromApi]);\n\n  const deleteUserr = async (user) => {\n    if (window.confirm(`Are you sure you wish to delete ${user.name} ?`)) {\n      try {\n        await deleteUser(user._id);\n        const newUsersList = users.filter(function(item) {\n          if (item[\"_id\"] === user?._id) return false;\n          return true;\n        });\n        setUsers(newUsersList);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <>\n        <h5></h5>\n        <TableUser />\n      </>\n    </div>\n  );\n};\n\nexport default ListAddedUsers;\n"]},"metadata":{},"sourceType":"module"}